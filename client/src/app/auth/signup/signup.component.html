<div class="wrapper">
  <div class="form-container">
    <div *ngIf="!registered">
      <h1>Create an account.</h1>
      <p>Start maintaining your schedules.</p>
      <form [formGroup]="form" (ngSubmit)="submit()" autocomplete="off">
        <div class="form-group">
          <label for="firstname">First Name</label>
          <input id="firstname" type="text" formControlName="firstname" [class.border-red]="errors.firstname" placeholder="John" (input)="errors.firstname = ''">
          <div class="error">{{ errors.firstname }}</div>
        </div>
        <div class="form-group">
          <label for="lastname">Last Name</label>
          <input id="lastname" type="text" formControlName="lastname" [class.border-red]="errors.lastname" placeholder="Doe" (input)="errors.lastname = ''">
          <div class="error">{{ errors.lastname }}</div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" type="text" formControlName="email" [class.border-red]="errors.email" placeholder="johndoe@email.com" (input)="errors.email = ''">
          <div class="error">{{ errors.email }}</div>
        </div>
        <div class="form-group">
          <label for="username">Username</label>
          <input id="username" type="text" formControlName="username" [class.border-red]="errors.username" placeholder="johndoe21" (input)="errors.username = ''">
          <div class="error">{{ errors.username }}</div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input id="password" type="password" formControlName="password" [class.border-red]="errors.password" placeholder="••••••••" (input)="errors.password = ''">
          <div class="error">{{ errors.password }}</div>
        </div>
        <div class="form-group">
          <label for="mobile">Mobile</label>
          <div class="mobile">
            <select class="country" (change)="onSelectCountry($event.target.value)">
              <option *ngFor="let country of countries" [value]="country.code">
                {{ country.name }}
              </option>
            </select>
            <div class="input">
              <input id="mobile" type="text" formControlName="mobile" [class.border-red]="errors.mobile" placeholder="9853352485" (input)="errors.mobile = ''">
              <label for="mobile" class="code">{{ callingCode }}</label>
            </div>
          </div>
          <div class="error">{{ errors.mobile }}</div>
        </div>
        <div class="d-flex align-items-center justify-content-end button-container">
          <app-spinner size="small" *ngIf="processing"></app-spinner>
          <button type="submit" [disabled]="processing">Sign Up</button>
        </div>
      </form>
    </div>
    <div *ngIf="registered">
      <h1>Awesome.</h1>
      <p>Your account has been created. To activate your account go to the link sent to your email.</p>
      <p><a routerLink="/">Go Home</a></p>
    </div>
  </div>
  <footer *ngIf="!registered">
    <p>
      If you already have an account, <a routerLink="/login">Login</a>.
    </p>
  </footer>
</div>